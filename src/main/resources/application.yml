server:
  port: ${PORT:8080} # Default port is 8080 unless specified

# Spring konfiguracija
spring:
  cache:
    type: none
  # Datasource i JPA postavke
  jpa:
    show-sql: true
    hibernate:
      ddl-auto: none
    properties:
      hibernate:
        dialect: org.hibernate.dialect.MySQLDialect
        connection.useUnicode: true
        connection.characterEncoding: UTF-8
        connection.charSet: UTF-8
    open-in-view: false

  # Iskljuƒçenje automatske Spring Security konfiguracije
  autoconfigure:
    exclude: org.springframework.boot.autoconfigure.security.SecurityAutoConfiguration

  # JOOQ postavke
  jooq:
    sql-dialect: MYSQL

  # Liquibase postavke
  liquibase:
    change-log: classpath:/db/changelog/db.changelog-master.xml
    enabled: false

  # Mail server konfiguracija
  mail:
    host: smtp.gmail.com
    port: 587
    username: webshop.automaterijal@gmail.com
    password: hjaqamkpzuzbtcyl
    protocol: smtp
    defaultEncoding: UTF-8
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true

  servlet:
    multipart:
      max-file-size: 20MB
      max-request-size: 20MB

# Podesavanje scheduler-a
schedule:
  izvestaj:
    podsetnik: 0 0 6 * * *

# JWT konfiguracija
automaterijal:
  jwtSecret: bezKoderSecretKey
  jwtExpirationMs: 43200000

# Logging konfiguracija
logging:
  file:
    name: ../logs/arhiva/automaterijal

showcase:
  cache:
    reset:
      ms: 172800000   # 48h

# In case we want to use offline mode
offline: false

site:
  base-url: https://automaterijal.com
sitemap:
  brand-prefix: /webshop/manufacturers
  brand-details-prefix: /brendovi
  category-prefix: /webshop/category
  blog-prefix: /blog
  products:
    refresh-cron: 0 0 2 * * *
  vehicles:
    prefix: /webshop/vozila
    linking-target-type: PO
    refresh-cron: 0 30 3 * * *
    model-end-cutoff-year: 1995

blog:
  cover-image:
    directory: ../uploads/blog-cover

integration:
  providers:
    rules:
      - provider: febi-stock
        enabled: true
        priority: 100
        purposes: [INVENTORY_ENRICHMENT, EXTERNAL_OFFER]
        brands: [FEBI, BLUE]
  febi:
    order:
      mode: DISABLED
      base-url: https://bis1.prod.apimanagement.eu20.hana.ondemand.com/p/v1/order-api/api/v1
      customer-order-prefix: "AK AM "
      requested-delivery-offset-days: 0
      simulate-before-create: false
      require-availability: true
      delivery-party: ${FEBI_ORDER_DELIVERY_PARTY:0001001983}
      shipping-condition: ${FEBI_ORDER_SHIPPING_CONDITION:S9}

pricing:
  margin:
    default-percent: 0.60
    by-group:
      ZAM: 0.40
      AK: 0.30
    by-provider:
      FEBI-STOCK:
        default-percent: 0.65

roba:
  slika:
    publicPrefix: /images/roba/
    noImageUrl: /images/no-image/no-image.png
