{"version":3,"sources":["webpack:///./src/app/e-shop/korpa/korpa.component.html","webpack:///./src/app/e-shop/korpa/korpa.component.scss","webpack:///./src/app/e-shop/korpa/korpa.component.ts","webpack:///./src/app/e-shop/korpa/korpa.module.ts"],"names":[],"mappings":"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","file":"e-shop-korpa-korpa-module.js","sourcesContent":["module.exports = \"<main>\\r\\n    <div class=\\\"d-flex flex-column prazna-tabela\\\" *ngIf=\\\"!dataSource || dataSource.length == 0\\\">\\r\\n        <i class=\\\"material-icons icon-size\\\">\\r\\n            shopping_cart\\r\\n        </i>\\r\\n        <h1 class=\\\"h1-upozorenje\\\">Korpa je trenutno prazna</h1>\\r\\n    </div>\\r\\n    <div class=\\\"tabela-div\\\" *ngIf=\\\"dataSource && dataSource.length > 0\\\">\\r\\n        <div class=\\\"headerKorpa\\\">\\r\\n        </div>\\r\\n        <div class=\\\"margin-bottom--10\\\">\\r\\n            <p class=\\\"pdv\\\"><i>Sve cene su prikazane sa pdv-om.</i></p>\\r\\n            <table mat-table [dataSource]=\\\"dataSource\\\" class=\\\"mat-elevation-z8\\\">\\r\\n                <!-- Kataloski broj Column -->\\r\\n                <ng-container matColumnDef=\\\"katbr\\\">\\r\\n                    <th mat-header-cell *matHeaderCellDef> Kataloški broj </th>\\r\\n                    <td mat-cell data-label=\\\"Kataloški broj\\\" *matCellDef=\\\"let roba\\\">\\r\\n                        <p class=\\\"mat-body-2\\\">\\r\\n                            {{roba.katbr}}\\r\\n                        </p>\\r\\n                    </td>\\r\\n                </ng-container>\\r\\n\\r\\n                <!-- Kataloski broj proizvodjaca Column -->\\r\\n                <ng-container matColumnDef=\\\"katbrpro\\\">\\r\\n                    <th mat-header-cell *matHeaderCellDef> Kataloški broj proizvodjača </th>\\r\\n                    <td mat-cell data-label=\\\"Kataloški broj proizvodjača\\\" *matCellDef=\\\"let roba\\\">\\r\\n                        <p>\\r\\n                            {{roba.katbrpro}}\\r\\n                        </p>\\r\\n                    </td>\\r\\n                </ng-container>\\r\\n\\r\\n                <!-- Naziv Column -->\\r\\n                <ng-container matColumnDef=\\\"naziv\\\">\\r\\n                    <th mat-header-cell *matHeaderCellDef> Naziv </th>\\r\\n                    <td mat-cell data-label=\\\"Naziv\\\" *matCellDef=\\\"let roba\\\">\\r\\n                        <p>\\r\\n                            {{roba.naziv}}\\r\\n                        </p>\\r\\n                    </td>\\r\\n                </ng-container>\\r\\n\\r\\n                <!-- Proizvodjač Column -->\\r\\n                <ng-container matColumnDef=\\\"proizvodjac\\\">\\r\\n                    <th mat-header-cell *matHeaderCellDef> Proizvodjač </th>\\r\\n                    <td mat-cell data-label=\\\"Proizvodjač\\\" *matCellDef=\\\"let roba\\\">\\r\\n                        <p class=\\\"mat-body-2\\\">\\r\\n                            {{roba.proizvodjac.naziv}}\\r\\n                        </p>\\r\\n                    </td>\\r\\n                </ng-container>\\r\\n\\r\\n                <!-- Cena Column -->\\r\\n                <ng-container matColumnDef=\\\"kolicina\\\">\\r\\n                    <th mat-header-cell *matHeaderCellDef> Količina </th>\\r\\n                    <td mat-cell data-label=\\\"Količina\\\" *matCellDef=\\\"let roba\\\">\\r\\n                        <p class=\\\"mat-body-2\\\">\\r\\n                            {{roba.kolicina}}\\r\\n                        </p>\\r\\n                    </td>\\r\\n                </ng-container>\\r\\n\\r\\n                <!-- Cena Column -->\\r\\n                <ng-container matColumnDef=\\\"cena\\\">\\r\\n                    <th mat-header-cell *matHeaderCellDef> Ukupno </th>\\r\\n                    <td mat-cell data-label=\\\"Ukupno\\\" *matCellDef=\\\"let roba\\\">\\r\\n                        <p class=\\\"mat-body-2\\\">\\r\\n                            {{roba.cenaUkupno | currency:\\\" \\\"}} DIN\\r\\n                        </p>\\r\\n                    </td>\\r\\n                </ng-container>\\r\\n\\r\\n                <!-- Kolicina Column -->\\r\\n                <ng-container matColumnDef=\\\"izbaciDugme\\\">\\r\\n                    <th mat-header-cell *matHeaderCellDef> </th>\\r\\n                    <td mat-cell *matCellDef=\\\"let roba; let i = index;\\\">\\r\\n                        <div class=\\\"d-flex flex-row justify-content-center button-align bd-highlight\\\">\\r\\n                            <div class=\\\"p-1 bd-highlight levo-dugme\\\">\\r\\n                                <button class=\\\"button-glavni-100 velicina-dugmeta\\\" mat-raised-button\\r\\n                                    (click)=\\\"otvoriDialog(roba)\\\">Izmeni</button>\\r\\n                            </div>\\r\\n                            <div class=\\\"p-1 bd-highlight desno-dugme\\\">\\r\\n                                <button class=\\\"button-crveni-50 velicina-dugmeta\\\" mat-raised-button\\r\\n                                    (click)='izbaciIzKorpe(i)'>Izbaci</button>\\r\\n                            </div>\\r\\n                        </div>\\r\\n\\r\\n                </ng-container>\\r\\n\\r\\n                <tr mat-header-row *matHeaderRowDef=\\\"displayedColumns\\\"></tr>\\r\\n                <tr mat-row *matRowDef=\\\"let row; columns: displayedColumns;\\\"></tr>\\r\\n            </table>\\r\\n        </div>\\r\\n        <div class=\\\"d-flex flex-column flex-xl-row\\\">\\r\\n            <div class=\\\"d-flex flex-column flex-xl-row flex-fill \\\">\\r\\n                <div class=\\\"flex-fill\\\">\\r\\n                    <div class=\\\"d-flex flex-fill flex-column pomeri-dole\\\">\\r\\n                        <div *ngIf=\\\"nacinPlacanja && nacinPlacanja.length > 0\\\" class=\\\"granice\\\">\\r\\n                            <h3>Način plaćanja</h3>\\r\\n                            <hr>\\r\\n                            <mat-radio-group class=\\\"radio-grupa\\\" [(ngModel)]=\\\"izabranNacinPlacanja\\\">\\r\\n                                <mat-radio-button color=\\\"primary\\\" class=\\\"radio-dugme\\\"\\r\\n                                    *ngFor=\\\"let placanje of nacinPlacanja\\\" [value]=\\\"placanje\\\">\\r\\n                                    {{placanje.naziv}}\\r\\n                                </mat-radio-button>\\r\\n                            </mat-radio-group>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div *ngIf=\\\"nacinPrevoza && nacinPrevoza.length > 0\\\"\\r\\n                        class=\\\"d-flex flex-fill flex-column pomeri-dole\\\">\\r\\n                        <div class=\\\"granice visina-prevoza\\\">\\r\\n                            <h3>Način prevoza</h3>\\r\\n                            <hr>\\r\\n                            <mat-radio-group class=\\\"radio-grupa\\\" [(ngModel)]=\\\"izabranNacinPrevoza\\\">\\r\\n                                <mat-radio-button color=\\\"primary\\\" class=\\\"radio-dugme\\\"\\r\\n                                    *ngFor=\\\"let prevoz of nacinPrevoza\\\" [value]=\\\"prevoz\\\">\\r\\n                                    {{\\\"prevoz_\\\" + prevoz.id | translate}}\\r\\n                                </mat-radio-button>\\r\\n                            </mat-radio-group>\\r\\n                        </div>\\r\\n                        <div *ngIf=\\\"izabranNacinPrevoza.id === 2\\\" class=\\\"granice pomeri-dole\\\">\\r\\n                            <h4>Izaberite način dostave</h4>\\r\\n                            <mat-radio-group class=\\\"radio-grupa\\\" [(ngModel)]=\\\"izabranaTrecaLiceOpcija\\\">\\r\\n                                <mat-radio-button color=\\\"primary\\\" class=\\\"radio-dugme\\\"\\r\\n                                    *ngFor=\\\"let opcije of treceLiceOpcije\\\" [value]=\\\"opcije\\\">\\r\\n                                    {{opcije}}\\r\\n                                </mat-radio-button>\\r\\n                            </mat-radio-group>\\r\\n                            <div>\\r\\n                                <div *ngIf=\\\"izabranaTrecaLiceOpcija === treceLiceOpcije[0]\\\">\\r\\n                                    <mat-form-field>\\r\\n                                        <mat-select placeholder=\\\"Kurirske sluzbe\\\" [(ngModel)]=\\\"izabraneKurirskeSluzbe\\\">\\r\\n                                            <mat-option *ngFor=\\\"let sluzbe of kurirskeSluzbe\\\" [value]=\\\"sluzbe\\\">\\r\\n                                                {{sluzbe}}\\r\\n                                            </mat-option>\\r\\n                                        </mat-select>\\r\\n                                    </mat-form-field>\\r\\n                                </div>\\r\\n                                <div *ngIf=\\\"izabranaTrecaLiceOpcija === treceLiceOpcije[1]\\\">\\r\\n                                    <mat-form-field role=\\\"form\\\" [formGroup]=\\\"drugiNacinPrevoza\\\">\\r\\n                                        <textarea matInput #prevoz formControlName=\\\"prevoz\\\"\\r\\n                                            placeholder=\\\"Upišite drugi način prevoza...\\\"></textarea>\\r\\n                                    </mat-form-field>\\r\\n                                    <div *ngIf=\\\"dugmeZaPorucivanjeStisnuto && d.prevoz.errors\\\">\\r\\n                                        <div *ngIf=\\\"d.prevoz.errors.required\\\">\\r\\n                                            <p class=\\\"upozorenje\\\">Ovo polje je obavezno</p>\\r\\n                                        </div>\\r\\n                                        <div *ngIf=\\\"d.prevoz.errors.minlength\\\">\\r\\n                                            <p class=\\\"upozorenje\\\">Minimalno 3 karaktera</p>\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"flex-fill\\\">\\r\\n                    <div class=\\\"d-flex flex-fill flex-column pomeri-dole\\\">\\r\\n                        <div *ngIf=\\\"nacinPlacanja && nacinPlacanja.length > 0\\\" class=\\\"granice visina\\\">\\r\\n                            <h3>Napomena</h3>\\r\\n                            <hr>\\r\\n                            <mat-form-field class=\\\"sirina-cena\\\">\\r\\n                                <textarea matInput class=\\\"napomena\\\" [(ngModel)]=\\\"napomena\\\"\\r\\n                                    placeholder=\\\"Unesite napomenu...\\\"></textarea>\\r\\n                            </mat-form-field>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"d-flex flex-fill flex-column pomeri-dole\\\">\\r\\n                        <div *ngIf=\\\"nacinPlacanja && nacinPlacanja.length > 0\\\" class=\\\"granice\\\">\\r\\n                            <h3>Izaberite adresu dostave</h3>\\r\\n                            <hr>\\r\\n                            <mat-radio-group class=\\\"radio-grupa\\\" [(ngModel)]=\\\"izabraneAdresaDostave\\\">\\r\\n                                <mat-radio-button color=\\\"primary\\\" class=\\\"radio-dugme\\\"\\r\\n                                    *ngFor=\\\"let adresa of adresaDostave\\\" [value]=\\\"adresa\\\">\\r\\n                                    {{adresa}}\\r\\n                                </mat-radio-button>\\r\\n                            </mat-radio-group>\\r\\n                        </div>\\r\\n                        <div class=\\\"granice pomeri-dole\\\">\\r\\n                            <div *ngIf=\\\"izabraneAdresaDostave === adresaDostave[0]\\\" class=\\\"pomeri-dole\\\">\\r\\n                                <h4>Adresa</h4>\\r\\n                                <label> {{partner.adresa}}</label>\\r\\n                            </div>\\r\\n                            <div *ngIf=\\\"izabraneAdresaDostave === adresaDostave[1]\\\" class=\\\"pomeri-dole\\\">\\r\\n                                <h4>Druga adresa dostave</h4>\\r\\n                                <form role=\\\"form\\\" [formGroup]=\\\"adresaForm\\\">\\r\\n                                    <div>\\r\\n                                        <mat-form-field role=\\\"form\\\">\\r\\n                                            <input type=\\\"text\\\" #ulica formControlName=\\\"ulica\\\" matInput\\r\\n                                                placeholder=\\\"Ulica i broj\\\">\\r\\n                                        </mat-form-field>\\r\\n                                    </div>\\r\\n                                    <div *ngIf=\\\"dugmeZaPorucivanjeStisnuto && a.ulica.errors\\\">\\r\\n                                        <div *ngIf=\\\"a.ulica.errors.required\\\">\\r\\n                                            <p class=\\\"upozorenje\\\">Naziv ulice je obavezan</p>\\r\\n                                        </div>\\r\\n                                        <div *ngIf=\\\"a.ulica.errors.minlength\\\">\\r\\n                                            <p class=\\\"upozorenje\\\">Naziv ulice mora imati minimalno 3 karaktera</p>\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n                                    <div>\\r\\n                                        <mat-form-field role=\\\"form\\\">\\r\\n                                            <input type=\\\"text\\\" #grad formControlName=\\\"grad\\\" matInput placeholder=\\\"Grad\\\">\\r\\n                                        </mat-form-field>\\r\\n                                    </div>\\r\\n                                    <div *ngIf=\\\"dugmeZaPorucivanjeStisnuto && a.grad.errors\\\">\\r\\n                                        <div *ngIf=\\\"a.grad.errors.required\\\">\\r\\n                                            <p class=\\\"upozorenje\\\">Naziv grada je obavezan</p>\\r\\n                                        </div>\\r\\n                                        <div *ngIf=\\\"a.grad.errors.minlength\\\">\\r\\n                                            <p class=\\\"upozorenje\\\">Naziv grada mora imati minimalno 2 karaktera</p>\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n                                </form>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"d-flex flex-fill flex-column\\\">\\r\\n                <table class=\\\"table sirina-cena\\\">\\r\\n                    <tbody>\\r\\n                        <tr>\\r\\n                            <td class=\\\"pozadina-glavna-50 boja-siva-400\\\">Bez pdv-a: </td>\\r\\n                            <td class=\\\"text-right\\\">{{bezPdv | currency:\\\" \\\"}} RSD</td>\\r\\n                        </tr>\\r\\n                        <tr>\\r\\n                            <td class=\\\"pozadina-glavna-50 boja-siva-400\\\">Pdv: </td>\\r\\n                            <td class=\\\"text-right\\\">{{pdv | currency:\\\" \\\"}} RSD</td>\\r\\n                        </tr>\\r\\n                        <tr>\\r\\n                            <td class=\\\"pozadina-glavna-50 boja-siva-400\\\">Ukupno za uplatu: </td>\\r\\n                            <td class=\\\"text-right\\\"><b>{{ukupno | currency:\\\" \\\"}} RSD</b></td>\\r\\n                        </tr>\\r\\n                    </tbody>\\r\\n                </table>\\r\\n                <div>\\r\\n                    <button class=\\\"button-glavni-100 dugme-sirina float-right\\\" mat-raised-button\\r\\n                        (click)=\\\"posaljiPorudzbinu(roba)\\\">Potvrdi</button>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</main>\"","module.exports = \".velicina-dugmeta {\\n  padding: 0 10px; }\\n\\n.korpa-h1 {\\n  margin-top: 0.5em;\\n  font-size: 3.5em;\\n  color: #345cac; }\\n\\n.headerKorpa {\\n  background-image: url(\\\"/assets/slike/ui/pozadine/korpa.png\\\");\\n  background-position: center;\\n  background-repeat: no-repeat;\\n  background-size: 100% 90px;\\n  height: 100px; }\\n\\np {\\n  text-align: left !important; }\\n\\nh3 {\\n  font-weight: bold;\\n  padding-left: 10px;\\n  padding-top: 10px;\\n  color: #345cac; }\\n\\nhr {\\n  width: 90%;\\n  margin-bottom: 5px;\\n  margin-top: 5px; }\\n\\nh4 {\\n  font-size: 1em;\\n  font-weight: bold;\\n  padding-left: 1em;\\n  color: #345cac; }\\n\\ntextarea {\\n  color: #273747; }\\n\\nlabel {\\n  color: #273747;\\n  font-weight: bold; }\\n\\n.radio-grupa {\\n  display: inline-flex;\\n  flex-direction: column; }\\n\\n.radio-dugme {\\n  margin: 2px;\\n  font-size: 0.8em !important; }\\n\\n.sirina-cena {\\n  width: 95%; }\\n\\n.dugme-sirina {\\n  width: 150px;\\n  height: 40px;\\n  border-radius: 5px; }\\n\\n.granice {\\n  box-shadow: 0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\\n  background-color: white;\\n  padding-left: 5px;\\n  width: 95%;\\n  margin: 5px; }\\n\\n.pomeri-dole {\\n  margin-top: 7px; }\\n\\n.visina {\\n  height: 181px; }\\n\\n.visina-prevoza {\\n  height: 193px; }\\n\\n.napomena {\\n  height: 80px; }\\n\\n.google-mapa {\\n  margin-left: 10%;\\n  width: 80%; }\\n\\n@media only screen and (max-width: 1200px) {\\n  .granice {\\n    width: 99%; } }\\n\\n@media only screen and (max-width: 640px) {\\n  .korpa-h1 {\\n    margin-top: 0.5em; }\\n  .headerKorpa {\\n    background-size: 100% 75px; }\\n  .sirina-cena {\\n    width: 95%;\\n    margin-left: 2%; } }\\n\\n@media screen and (max-width: 900px) {\\n  p {\\n    font-size: 0.85em;\\n    font-weight: bold;\\n    text-align: right !important; }\\n  tr.mat-header-row {\\n    height: 0px; }\\n  .text-center {\\n    text-align: none; }\\n  .mat-table .mat-cell:last-child {\\n    margin-top: 10px;\\n    padding-left: 10px;\\n    padding-right: 10px;\\n    height: 45px; }\\n  .button-align {\\n    text-align: center; }\\n  .levo-dugme {\\n    padding-right: 20px !important;\\n    display: inline-block !important; }\\n  .desno-dugme {\\n    padding-left: 20px !important;\\n    display: inline-block !important; } }\\n\"","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { DataService } from '../service/data/data.service';\r\nimport { Korpa, RobaKorpa } from '../model/porudzbenica';\r\nimport { LocalStorageService } from '../service/data/local-storage.service';\r\nimport { MatTable, MatDialog } from '@angular/material';\r\nimport { takeWhile, finalize, catchError } from 'rxjs/operators';\r\nimport { throwError } from 'rxjs';\r\nimport { ValueHelp, Partner, Fakutra, FakturaDetalji, Roba } from '../model/dto';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { LoginService } from '../service/login.service';\r\nimport { FakturaService } from '../service/faktura.service';\r\nimport { Router } from '@angular/router';\r\nimport { IzmenaKolicineModalComponent } from 'src/app/shared/modal/izmena-kolicine-modal/izmena-kolicine-modal.component';\r\nimport { UspesnoPorucivanjeModalComponent } from 'src/app/shared/modal/uspesno-porucivanje-modal/uspesno-porucivanje-modal.component';\r\nimport { NeuspesnoPorucivanjeModalComponent } from 'src/app/shared/modal/neuspesno-porucivanje-modal/neuspesno-porucivanje-modal.component';\r\n\r\n@Component({\r\n  selector: 'app-korpa',\r\n  templateUrl: './korpa.component.html',\r\n  styleUrls: ['./korpa.component.scss']\r\n})\r\nexport class KorpaComponent implements OnInit {\r\n\r\n  public korpa: Korpa;\r\n  public partner: Partner;\r\n  public bezPdv: string;\r\n  public pdv: string;\r\n  public ukupno: string;\r\n  public dataSource: any;\r\n  public nacinPlacanja: ValueHelp[];\r\n  public izabranNacinPlacanja: ValueHelp;\r\n  public nacinPrevoza: ValueHelp[];\r\n  public izabranNacinPrevoza: ValueHelp;\r\n  private faktura: Fakutra;\r\n\r\n  // sve forme\r\n  public drugiNacinPrevoza: FormGroup;\r\n  public adresaForm: FormGroup;\r\n  public dugmeZaPorucivanjeStisnuto = false;\r\n\r\n  public displayedColumns: string[] = ['katbr', 'katbrpro', 'naziv'\r\n    , 'proizvodjac', 'kolicina', 'cena', 'izbaciDugme'];\r\n\r\n  public treceLiceOpcije: string[] = ['Kurirske službe', 'Drugo'];\r\n  public izabranaTrecaLiceOpcija: string;\r\n  public kurirskeSluzbe: string[] = ['Aks', 'Beks'];\r\n  public izabraneKurirskeSluzbe: string;\r\n  public adresaDostave: string[] = ['Vaša adresa', 'Druga'];\r\n  public izabraneAdresaDostave: string;\r\n  public napomena: string;\r\n  public ucitavanje = false;\r\n  private alive = true;\r\n  @ViewChild(MatTable) table: MatTable<any>;\r\n\r\n  constructor(\r\n    private dataService: DataService,\r\n    private loginServis: LoginService,\r\n    public storage: LocalStorageService,\r\n    public dialog: MatDialog,\r\n    private formBuilder: FormBuilder,\r\n    private fakturaServis: FakturaService,\r\n    private router: Router) { }\r\n\r\n  ngOnInit() {\r\n    this.loginServis.vratiUlogovanogKorisnika(false)\r\n      .subscribe((res: Partner) => {\r\n        if (res !== null) {\r\n          this.partner = res;\r\n          this.inicijalizujKorpu();\r\n        } else {\r\n          this.router.navigate(['/login']);\r\n          this.loginServis.izbaciPartnerIzSesije();\r\n        }\r\n      });\r\n  }\r\n\r\n  inicijalizujKorpu() {\r\n    this.vratiOpsteInformacije();\r\n    this.dataService.trenutnaKorpa.subscribe(korpa => {\r\n      this.korpa = korpa;\r\n      this.preracunajUkupno();\r\n      this.dataSource = this.korpa.roba;\r\n    });\r\n    this.izabranaTrecaLiceOpcija = this.treceLiceOpcije[0];\r\n    this.izabraneKurirskeSluzbe = this.kurirskeSluzbe[0];\r\n    this.izabraneAdresaDostave = this.adresaDostave[0];\r\n    this.inicijalizujSveForme();\r\n  }\r\n\r\n  inicijalizujSveForme() {\r\n    this.drugiNacinPrevoza = this.formBuilder.group({\r\n      prevoz: ['', [Validators.required, Validators.minLength(3)]]\r\n    });\r\n    this.adresaForm = this.formBuilder.group({\r\n      ulica: ['', [Validators.required, Validators.minLength(3)]],\r\n      grad: ['', [Validators.required, Validators.minLength(2)]]\r\n    });\r\n  }\r\n\r\n  vratiOpsteInformacije() {\r\n    const vrsteInformacije = ['placanje', 'prevoz'];\r\n    vrsteInformacije.forEach(vrsta => {\r\n      this.dataService.vratiOpsteInformacije(vrsta).pipe(\r\n        takeWhile(() => this.alive),\r\n        catchError((error: Response) => throwError(error)),\r\n        finalize(() => this.ucitavanje = false)\r\n      )\r\n        .subscribe(\r\n          res => {\r\n            if (vrsta === vrsteInformacije[0]) {\r\n              this.nacinPlacanja = res;\r\n              this.izabranNacinPlacanja = res[0];\r\n            } else {\r\n              this.nacinPrevoza = res;\r\n              this.izabranNacinPrevoza = res[0];\r\n            }\r\n          },\r\n          error => {\r\n          });\r\n    });\r\n\r\n  }\r\n\r\n  izbaciIzKorpe(index: number) {\r\n    this.dataService.izbaciIzKorpe(index);\r\n    this.table.renderRows();\r\n  }\r\n\r\n  otvoriDialog(roba: RobaKorpa): void {\r\n    const dialogRef = this.dialog.open(IzmenaKolicineModalComponent, {\r\n      width: '400px',\r\n      data: roba\r\n    });\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      if (result) {\r\n        this.promeniKolicinuArtikla(result);\r\n      }\r\n    });\r\n  }\r\n  otvoriDialogUspesnoPorucivanje(): void {\r\n    const dialogRef = this.dialog.open(UspesnoPorucivanjeModalComponent, {\r\n      width: '400px'\r\n    });\r\n    dialogRef.afterClosed().subscribe(() => {\r\n      this.router.navigate(['/naslovna']);\r\n    });\r\n  }\r\n  otvoriDialogNeuspesnoPorucivanje(roba: Roba[], faktura: Fakutra): void {\r\n    const dialogRef = this.dialog.open(NeuspesnoPorucivanjeModalComponent, {\r\n      width: '400px',\r\n      data: { faktura: faktura, roba: roba }\r\n    });\r\n    dialogRef.afterClosed().subscribe(() => {\r\n      this.zatvaranjeNeuspesnogDiloga(roba);\r\n    });\r\n  }\r\n\r\n  zatvaranjeNeuspesnogDiloga(roba: Roba[]) {\r\n    let stanjePromenjeno = false;\r\n    roba.forEach((r: Roba) => {\r\n      this.korpa.roba\r\n        .filter((robaKorpa: RobaKorpa) => robaKorpa.robaid === r.robaid)\r\n        .map((robaKorpa: RobaKorpa) => {\r\n          stanjePromenjeno = true;\r\n          robaKorpa.kolicina = r.stanje;\r\n        });\r\n    });\r\n\r\n    this.korpa.roba = this.korpa.roba.filter((rKorpa: RobaKorpa) => rKorpa.kolicina > 0);\r\n\r\n    if (stanjePromenjeno) {\r\n      this.dataSource = null;\r\n      this.dataSource = this.korpa.roba;\r\n    }\r\n  }\r\n\r\n  promeniKolicinuArtikla(artikal: RobaKorpa) {\r\n    this.korpa.roba.forEach(roba => {\r\n      if (roba.katbr === artikal.katbr) {\r\n        roba.kolicina = artikal.kolicina;\r\n        roba.cenaUkupno = artikal.cenaUkupno;\r\n      }\r\n    });\r\n    this.storage.zameniArtikalSaNovim(artikal);\r\n    this.preracunajUkupno();\r\n    this.dataSource = this.korpa.roba;\r\n    this.table.renderRows();\r\n  }\r\n\r\n  private preracunajUkupno() {\r\n    this.korpa.ukupno = 0;\r\n    this.korpa.roba.forEach(roba => {\r\n      this.korpa.ukupno = this.korpa.ukupno + roba.cenaUkupno;\r\n    });\r\n    this.bezPdv = (this.korpa.ukupno / 1.2).toFixed(2);\r\n    this.pdv = (this.korpa.ukupno - this.korpa.ukupno / 1.2).toFixed(2);\r\n    this.ukupno = this.korpa.ukupno.toFixed(2);\r\n  }\r\n\r\n  // glavna metoda\r\n  posaljiPorudzbinu() {\r\n    this.dugmeZaPorucivanjeStisnuto = true;\r\n    if (this.izabraneAdresaDostave === this.adresaDostave[1]) {\r\n      if (this.adresaForm.invalid) {\r\n        return;\r\n      }\r\n    }\r\n    if (this.izabranNacinPrevoza === this.treceLiceOpcije[1]) {\r\n      if (this.drugiNacinPrevoza.invalid) {\r\n        return;\r\n      }\r\n    }\r\n    this.korpa.nacinIsporuke = this.izabranNacinPrevoza.id;\r\n    this.korpa.nacinPlacanja = this.izabranNacinPlacanja.id;\r\n    this.popuniNapomenu();\r\n    this.korpaUFakturu();\r\n    this.loginServis.vratiUlogovanogKorisnika(false).subscribe(partner => {\r\n      if (partner) {\r\n        this.submitujFakturu();\r\n      } else {\r\n        this.router.navigate(['/login']);\r\n        this.loginServis.izbaciPartnerIzSesije();\r\n      }\r\n    });\r\n  }\r\n\r\n  submitujFakturu() {\r\n    this.fakturaServis.submitujFakturu(this.faktura).pipe(\r\n      takeWhile(() => this.alive),\r\n      catchError((error: Response) => throwError(error)),\r\n      finalize(() => this.ucitavanje = false))\r\n      .subscribe((res: Roba[]) => {\r\n      if (res.length === 0) {\r\n        this.otvoriDialogUspesnoPorucivanje();\r\n        this.dataService.ocistiKorpu();\r\n        this.router.navigate(['/naslovna']);\r\n      } else {\r\n        this.otvoriDialogNeuspesnoPorucivanje(res, this.faktura);\r\n      }\r\n    });\r\n  }\r\n\r\n  korpaUFakturu() {\r\n    this.faktura = new Fakutra();\r\n    this.faktura.adresa = this.napraviIPopuniValueHelp(this.partner.ppid);\r\n    this.faktura.nacinPlacanja = this.napraviIPopuniValueHelp(this.korpa.nacinPlacanja);\r\n    this.faktura.nacinPrevoza = this.napraviIPopuniValueHelp(this.korpa.nacinIsporuke);\r\n    this.faktura.napomena = this.korpa.napomena;\r\n    this.faktura.iznosNarucen = this.korpa.ukupno;\r\n    this.faktura.detalji = [];\r\n    this.korpa.roba.forEach((roba: RobaKorpa) => {\r\n      this.faktura.detalji.push(this.popuniStavke(roba));\r\n    });\r\n  }\r\n\r\n  popuniStavke(roba: RobaKorpa) {\r\n    const stavka = new FakturaDetalji();\r\n    stavka.kataloskiBroj = roba.katbr;\r\n    stavka.proizvodjac = roba.proizvodjac;\r\n    stavka.kolicina = roba.kolicina;\r\n    stavka.rabat = roba.rabat;\r\n    stavka.robaId = roba.robaid;\r\n    stavka.cena = roba.cenaKom;\r\n    return stavka;\r\n  }\r\n\r\n  napraviIPopuniValueHelp(id: number): ValueHelp {\r\n    const valueHelp = new ValueHelp();\r\n    valueHelp.id = id;\r\n    return valueHelp;\r\n  }\r\n\r\n  popuniNapomenu() {\r\n    this.korpa.napomena = '';\r\n    if (this.izabranNacinPrevoza === this.nacinPrevoza[2]) {\r\n      let nacinPrevoza;\r\n      if (this.izabranaTrecaLiceOpcija === this.treceLiceOpcije[0]) {\r\n        nacinPrevoza = this.izabraneKurirskeSluzbe;\r\n      } else {\r\n        nacinPrevoza = this.drugiNacinPrevoza.controls.prevoz.value;\r\n      }\r\n      this.korpa.napomena = this.korpa.napomena + 'Način prevoza: ' + nacinPrevoza + ' - ';\r\n    }\r\n\r\n    if (this.izabraneAdresaDostave === this.adresaDostave[1]) {\r\n      const adresaDostave = this.adresaForm.controls.ulica.value + ', ' + this.adresaForm.controls.grad.value;\r\n      this.korpa.napomena = this.korpa.napomena + 'Adresa dostave: ' + adresaDostave + ' - ';\r\n    }\r\n    if (this.napomena) {\r\n      this.korpa.napomena = this.korpa.napomena + 'Napomena: ' + this.napomena;\r\n    }\r\n  }\r\n\r\n  // convenience getter for easy access to form fields\r\n  get a() { return this.adresaForm.controls; }\r\n  get d() { return this.drugiNacinPrevoza.controls; }\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { KorpaComponent } from './korpa.component';\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\nimport { MaterialModule } from 'src/app/shared/material/material.module';\nimport { SharedMagacinModule } from '../magacin/shared-components/shared-magacin.module';\nimport { RouterModule, Routes } from '@angular/router';\nimport { PipeModule } from 'src/app/shared/pipes/pipe.module';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: KorpaComponent\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    FormsModule,\n    MaterialModule,\n    SharedMagacinModule,\n    PipeModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [KorpaComponent],\n  exports: [KorpaComponent]\n})\nexport class KorpaModule { }\n"],"sourceRoot":""}